\hypertarget{kprocess_8c}{\section{\-Référence du fichier kernel/kprocess.c}
\label{kprocess_8c}\index{kernel/kprocess.\-c@{kernel/kprocess.\-c}}
}
{\ttfamily \#include $<$debug.\-h$>$}\*
{\ttfamily \#include $<$gdt.\-h$>$}\*
{\ttfamily \#include $<$kfcntl.\-h$>$}\*
{\ttfamily \#include $<$klibc/string.\-h$>$}\*
{\ttfamily \#include $<$klog.\-h$>$}\*
{\ttfamily \#include $<$kmalloc.\-h$>$}\*
{\ttfamily \#include $<$ksem.\-h$>$}\*
{\ttfamily \#include $<$ksignal.\-h$>$}\*
{\ttfamily \#include $<$ksyscall.\-h$>$}\*
{\ttfamily \#include $<$pagination.\-h$>$}\*
{\ttfamily \#include $<$scheduler.\-h$>$}\*
{\ttfamily \#include $<$types.\-h$>$}\*
\-Graphe des dépendances par inclusion de kprocess.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{kprocess_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{kprocess_8c_a5f18c5cf9200ee46df999df149fbd052}{\#define {\bfseries \-G\-E\-T\-\_\-\-P\-R\-O\-C\-E\-S\-S}~0}\label{kprocess_8c_a5f18c5cf9200ee46df999df149fbd052}

\item 
\hypertarget{kprocess_8c_a1155fc607922003fe71e41886aa0f811}{\#define {\bfseries \-G\-E\-T\-\_\-\-P\-R\-O\-C\-E\-S\-S\-\_\-\-L\-I\-S\-T}~1}\label{kprocess_8c_a1155fc607922003fe71e41886aa0f811}

\item 
\hypertarget{kprocess_8c_ab523b5db6a502dee1b9cc816f418253f}{\#define {\bfseries \-F\-I\-R\-S\-T\-\_\-\-P\-R\-O\-C\-E\-S\-S}~0}\label{kprocess_8c_ab523b5db6a502dee1b9cc816f418253f}

\item 
\hypertarget{kprocess_8c_a7c5cf31ce54fc1451cd154054e91be44}{\#define {\bfseries \-N\-E\-X\-T\-\_\-\-P\-R\-O\-C\-E\-S\-S}~1}\label{kprocess_8c_a7c5cf31ce54fc1451cd154054e91be44}

\item 
\hypertarget{kprocess_8c_a58f6231d1bd7722f13a9ea31f3b5ffe4}{\#define {\bfseries \-P\-R\-E\-V\-\_\-\-P\-R\-O\-C\-E\-S\-S}~2}\label{kprocess_8c_a58f6231d1bd7722f13a9ea31f3b5ffe4}

\end{DoxyCompactItemize}
\subsection*{\-Définitions de type}
\begin{DoxyCompactItemize}
\item 
\hypertarget{kprocess_8c_af253830b4efa47e1d6a402c80166fb52}{typedef int($\ast$ {\bfseries main\-\_\-func\-\_\-type} )(\hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t}, \hyperlink{types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} $\ast$$\ast$)}\label{kprocess_8c_af253830b4efa47e1d6a402c80166fb52}

\end{DoxyCompactItemize}
\subsection*{\-Fonctions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{kprocess_8c_a460fef0683c60cd00003caa26eda1339}{void {\bfseries init\-\_\-process\-\_\-array} ()}\label{kprocess_8c_a460fef0683c60cd00003caa26eda1339}

\item 
\hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} \hyperlink{kprocess_8c_a63bbc7e770ccf29ac484112986ee7640}{get\-\_\-proc\-\_\-count} ()
\begin{DoxyCompactList}\small\item\em \-Retourne le nombre de processus dans la liste. \end{DoxyCompactList}\item 
\hypertarget{kprocess_8c_ab5769fb8db77d54ea9a9216f14a2248c}{\hyperlink{structprocess__t}{process\-\_\-t} $\ast$ {\bfseries get\-\_\-process\-\_\-array} (int i)}\label{kprocess_8c_ab5769fb8db77d54ea9a9216f14a2248c}

\item 
\hypertarget{kprocess_8c_a95c28343e8515a53a2392068dc70d307}{void {\bfseries add\-\_\-process} (\hyperlink{structprocess__t}{process\-\_\-t} $\ast$process)}\label{kprocess_8c_a95c28343e8515a53a2392068dc70d307}

\item 
\hyperlink{structprocess__t}{process\-\_\-t} $\ast$ \hyperlink{kprocess_8c_a99064f971fd1f14adcbf0a0a5c2af452}{find\-\_\-process} (int pid)
\begin{DoxyCompactList}\small\item\em \-Cherche le process\-\_\-t$\ast$ en correspondant à un pid donné. \end{DoxyCompactList}\item 
int \hyperlink{kprocess_8c_a7cced35f469ae897c55ab96940289cf6}{delete\-\_\-process} (int pid)
\begin{DoxyCompactList}\small\item\em \-Retire un processus de la liste. \end{DoxyCompactList}\item 
\hypertarget{kprocess_8c_a2b28b438603f99be2cc1f1d83a856ef0}{int {\bfseries arg\-\_\-build} (char $\ast$string, \hyperlink{types_8h_a53428b953a0ae6fba02a5b3596c867e0}{vaddr\-\_\-t} base, char $\ast$$\ast$$\ast$argv\-\_\-ptr)}\label{kprocess_8c_a2b28b438603f99be2cc1f1d83a856ef0}

\item 
\hypertarget{kprocess_8c_ac1f548e50408cc562dc1c90d233cd761}{char $\ast$$\ast$ {\bfseries envp\-\_\-build} (\hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} $\ast$base, char $\ast$$\ast$envp)}\label{kprocess_8c_ac1f548e50408cc562dc1c90d233cd761}

\item 
\hypertarget{kprocess_8c_a12194d591dec91d17b82e8897ae7fd00}{\hyperlink{types_8h_a53428b953a0ae6fba02a5b3596c867e0}{vaddr\-\_\-t} {\bfseries init\-\_\-stack} (\hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} $\ast$base, char $\ast$args, char $\ast$$\ast$envp, \hyperlink{types_8h_a9f047c1f0917f6184a7a013d4b4277a6}{paddr\-\_\-t} return\-\_\-func)}\label{kprocess_8c_a12194d591dec91d17b82e8897ae7fd00}

\item 
\hypertarget{kprocess_8c_ac35e410c9806f5bf21d5405518414b22}{void {\bfseries init\-\_\-regs} (\hyperlink{structregs__t}{regs\-\_\-t} $\ast$regs, \hyperlink{types_8h_a53428b953a0ae6fba02a5b3596c867e0}{vaddr\-\_\-t} esp, \hyperlink{types_8h_a53428b953a0ae6fba02a5b3596c867e0}{vaddr\-\_\-t} kesp, \hyperlink{types_8h_a53428b953a0ae6fba02a5b3596c867e0}{vaddr\-\_\-t} eip)}\label{kprocess_8c_ac35e410c9806f5bf21d5405518414b22}

\item 
\hypertarget{kprocess_8c_abe2777b138bfafd5f62902403b68178a}{\hyperlink{structprocess__init__data__t}{process\-\_\-init\-\_\-data\-\_\-t} $\ast$ {\bfseries dup\-\_\-init\-\_\-data} (\hyperlink{structprocess__init__data__t}{process\-\_\-init\-\_\-data\-\_\-t} $\ast$init\-\_\-data)}\label{kprocess_8c_abe2777b138bfafd5f62902403b68178a}

\item 
\hypertarget{kprocess_8c_a8af5eed6c58297685f07b0a2d4101dc9}{void {\bfseries free\-\_\-init\-\_\-data} (\hyperlink{structprocess__init__data__t}{process\-\_\-init\-\_\-data\-\_\-t} $\ast$init\-\_\-data)}\label{kprocess_8c_a8af5eed6c58297685f07b0a2d4101dc9}

\item 
\hypertarget{kprocess_8c_ac39f38a73496012cdaf5c88c8b97488e}{\hyperlink{structprocess__t}{process\-\_\-t} $\ast$ {\bfseries create\-\_\-process\-\_\-elf} (\hyperlink{structprocess__init__data__t}{process\-\_\-init\-\_\-data\-\_\-t} $\ast$init\-\_\-data)}\label{kprocess_8c_ac39f38a73496012cdaf5c88c8b97488e}

\item 
\hyperlink{structprocess__t}{process\-\_\-t} $\ast$ \hyperlink{kprocess_8c_a21c8be1fe7cda8279886a50d946625bb}{create\-\_\-process} (\hyperlink{structprocess__init__data__t}{process\-\_\-init\-\_\-data\-\_\-t} $\ast$init\-\_\-data)
\begin{DoxyCompactList}\small\item\em (\-O\-U\-T\-D\-A\-T\-E\-D)\-Crée un nouveau processus. \-Crée un nouveau processus et l'ajoute à la liste des processus avec un état d'exécution \-P\-R\-O\-C\-S\-T\-A\-T\-E\-\_\-\-I\-D\-L\-E. \end{DoxyCompactList}\item 
\hypertarget{kprocess_8c_a6b501b3d2704f5c48c90ca79bec4d289}{void {\bfseries sample\-\_\-\-C\-P\-U\-\_\-usage} ()}\label{kprocess_8c_a6b501b3d2704f5c48c90ca79bec4d289}

\item 
\hypertarget{kprocess_8c_acc70870c5d5807f03b0a58bd1e160f6f}{{\bfseries \-S\-Y\-S\-C\-A\-L\-L\-\_\-\-H\-A\-N\-D\-L\-E\-R1} (sys\-\_\-exit, \hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} ret\-\_\-value)}\label{kprocess_8c_acc70870c5d5807f03b0a58bd1e160f6f}

\item 
\hypertarget{kprocess_8c_aeb04c10b6eb21ece6a889c874c3e1830}{{\bfseries \-S\-Y\-S\-C\-A\-L\-L\-\_\-\-H\-A\-N\-D\-L\-E\-R1} (sys\-\_\-getpid, \hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} $\ast$pid)}\label{kprocess_8c_aeb04c10b6eb21ece6a889c874c3e1830}

\item 
\hypertarget{kprocess_8c_a1e4ed2d0a9b35c02447c629472a491f3}{{\bfseries \-S\-Y\-S\-C\-A\-L\-L\-\_\-\-H\-A\-N\-D\-L\-E\-R1} (sys\-\_\-getppid, \hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} $\ast$ppid)}\label{kprocess_8c_a1e4ed2d0a9b35c02447c629472a491f3}

\item 
\hypertarget{kprocess_8c_a05c6e2910a550f70185f60d226c2bc02}{{\bfseries \-S\-Y\-S\-C\-A\-L\-L\-\_\-\-H\-A\-N\-D\-L\-E\-R2} (sys\-\_\-exec, \hyperlink{structprocess__init__data__t}{process\-\_\-init\-\_\-data\-\_\-t} $\ast$init\-\_\-data, int $\ast$pid)}\label{kprocess_8c_a05c6e2910a550f70185f60d226c2bc02}

\item 
\hypertarget{kprocess_8c_af8d61d4e501978acf688098e165c7076}{\hyperlink{structprocess__t}{process\-\_\-t} $\ast$ {\bfseries sys\-\_\-proc\-\_\-list} (\hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} action)}\label{kprocess_8c_af8d61d4e501978acf688098e165c7076}

\item 
\hypertarget{kprocess_8c_ac57ad880ae66a0bf4339309fada43242}{{\bfseries \-S\-Y\-S\-C\-A\-L\-L\-\_\-\-H\-A\-N\-D\-L\-E\-R3} (sys\-\_\-proc, \hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} sub\-\_\-func, \hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} param1, \hyperlink{types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} param2)}\label{kprocess_8c_ac57ad880ae66a0bf4339309fada43242}

\item 
\hypertarget{kprocess_8c_a4e715b0cdc3fe2325e5dcc64ec07f0f9}{{\bfseries \-S\-Y\-S\-C\-A\-L\-L\-\_\-\-H\-A\-N\-D\-L\-E\-R1} (sys\-\_\-waitpid, int pid)}\label{kprocess_8c_a4e715b0cdc3fe2325e5dcc64ec07f0f9}

\end{DoxyCompactItemize}


\subsection{\-Description détaillée}
\begin{DoxyAuthor}{\-Auteur}
\-Tac\-O\-S developers
\end{DoxyAuthor}
\hypertarget{vmm_8c_LICENSE}{}\subsection{\-L\-I\-C\-E\-N\-S\-E}\label{vmm_8c_LICENSE}
\-Copyright (\-C) 2010, 2011, 2012 -\/ \-Tac\-O\-S developers.

\-This program is free software; you can redistribute it and/or modify it under the terms of the \-G\-N\-U \-General \-Public \-License as published by the \-Free \-Software \-Foundation; either version 3 of the \-License, or (at your option) any later version.

\-This program is distributed in the hope that it will be useful, but \-W\-I\-T\-H\-O\-U\-T \-A\-N\-Y \-W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of \-M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or \-F\-I\-T\-N\-E\-S\-S \-F\-O\-R \-A \-P\-A\-R\-T\-I\-C\-U\-L\-A\-R \-P\-U\-R\-P\-O\-S\-E. \-See the \-G\-N\-U \-General \-Public \-License for more details at \href{http://www.gnu.org/copyleft/gpl.html}{\tt http\-://www.\-gnu.\-org/copyleft/gpl.\-html}

\-You should have received a copy of the \-G\-N\-U \-General \-Public \-License along with this program; if not, see $<$\href{http://www.gnu.org/licenses}{\tt http\-://www.\-gnu.\-org/licenses}$>$.\hypertarget{vmm_8c_DESCRIPTION}{}\subsection{\-D\-E\-S\-C\-R\-I\-P\-T\-I\-O\-N}\label{vmm_8c_DESCRIPTION}
\-Description de ce que fait le fichier 

\subsection{\-Documentation des fonctions}
\hypertarget{kprocess_8c_a21c8be1fe7cda8279886a50d946625bb}{\index{kprocess.\-c@{kprocess.\-c}!create\-\_\-process@{create\-\_\-process}}
\index{create\-\_\-process@{create\-\_\-process}!kprocess.c@{kprocess.\-c}}
\subsubsection[{create\-\_\-process}]{\setlength{\rightskip}{0pt plus 5cm}{\bf process\-\_\-t}$\ast$ {\bf create\-\_\-process} (
\begin{DoxyParamCaption}
\item[{{\bf process\-\_\-init\-\_\-data\-\_\-t} $\ast$}]{init\-\_\-data}
\end{DoxyParamCaption}
)}}\label{kprocess_8c_a21c8be1fe7cda8279886a50d946625bb}

\begin{DoxyParams}{\-Paramètres}
{\em init\-\_\-data} & informations sur le processus à créer \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-Voir également}
\hyperlink{structprocess__init__data__t}{process\-\_\-init\-\_\-data\-\_\-t}
\end{DoxySeeAlso}
\begin{DoxyReturn}{\-Renvoie}
\-Pid du processus créé. 
\end{DoxyReturn}


\-Voici le graphe d'appel pour cette fonction \-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{kprocess_8c_a21c8be1fe7cda8279886a50d946625bb_cgraph}
\end{center}
\end{figure}




\-Voici le graphe des appelants de cette fonction \-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=278pt]{kprocess_8c_a21c8be1fe7cda8279886a50d946625bb_icgraph}
\end{center}
\end{figure}


\hypertarget{kprocess_8c_a7cced35f469ae897c55ab96940289cf6}{\index{kprocess.\-c@{kprocess.\-c}!delete\-\_\-process@{delete\-\_\-process}}
\index{delete\-\_\-process@{delete\-\_\-process}!kprocess.c@{kprocess.\-c}}
\subsubsection[{delete\-\_\-process}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf delete\-\_\-process} (
\begin{DoxyParamCaption}
\item[{int}]{pid}
\end{DoxyParamCaption}
)}}\label{kprocess_8c_a7cced35f469ae897c55ab96940289cf6}

\begin{DoxyParams}{\-Paramètres}
{\em pid} & \-Pid du processus à retirer de la liste.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Renvoie}
0 la plupart du temps. 
\end{DoxyReturn}


\-Voici le graphe d'appel pour cette fonction \-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{kprocess_8c_a7cced35f469ae897c55ab96940289cf6_cgraph}
\end{center}
\end{figure}


\hypertarget{kprocess_8c_a99064f971fd1f14adcbf0a0a5c2af452}{\index{kprocess.\-c@{kprocess.\-c}!find\-\_\-process@{find\-\_\-process}}
\index{find\-\_\-process@{find\-\_\-process}!kprocess.c@{kprocess.\-c}}
\subsubsection[{find\-\_\-process}]{\setlength{\rightskip}{0pt plus 5cm}{\bf process\-\_\-t}$\ast$ {\bf find\-\_\-process} (
\begin{DoxyParamCaption}
\item[{int}]{pid}
\end{DoxyParamCaption}
)}}\label{kprocess_8c_a99064f971fd1f14adcbf0a0a5c2af452}

\begin{DoxyParams}{\-Paramètres}
{\em pid} & \-Pid du processus à chercher.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Renvoie}
process\-\_\-t$\ast$ correspondant au pid. 
\end{DoxyReturn}


\-Voici le graphe des appelants de cette fonction \-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{kprocess_8c_a99064f971fd1f14adcbf0a0a5c2af452_icgraph}
\end{center}
\end{figure}


\hypertarget{kprocess_8c_a63bbc7e770ccf29ac484112986ee7640}{\index{kprocess.\-c@{kprocess.\-c}!get\-\_\-proc\-\_\-count@{get\-\_\-proc\-\_\-count}}
\index{get\-\_\-proc\-\_\-count@{get\-\_\-proc\-\_\-count}!kprocess.c@{kprocess.\-c}}
\subsubsection[{get\-\_\-proc\-\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\-\_\-t} {\bf get\-\_\-proc\-\_\-count} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{kprocess_8c_a63bbc7e770ccf29ac484112986ee7640}
\begin{DoxyReturn}{\-Renvoie}
nombre de processus dans la liste. 
\end{DoxyReturn}
