\hypertarget{serial_8c}{\section{Référence du fichier kernel/drivers/char/serial.c}
\label{serial_8c}\index{kernel/drivers/char/serial.\-c@{kernel/drivers/char/serial.\-c}}
}
{\ttfamily \#include $<$interrupts.\-h$>$}\\*
{\ttfamily \#include $<$ioports.\-h$>$}\\*
{\ttfamily \#include $<$drivers/serial.\-h$>$}\\*
{\ttfamily \#include $<$klog.\-h$>$}\\*
{\ttfamily \#include $<$ksem.\-h$>$}\\*
{\ttfamily \#include $<$kfcntl.\-h$>$}\\*
{\ttfamily \#include $<$kmalloc.\-h$>$}\\*
{\ttfamily \#include $<$tty.\-h$>$}\\*
{\ttfamily \#include $<$klibc/string.\-h$>$}\\*
{\ttfamily \#include \char`\"{}serial\-\_\-masks.\-h\char`\"{}}\\*
Graphe des dépendances par inclusion de serial.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{serial_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{serial_8c_a739a2a1a0047c98ac1b18ecd25dac092}{\#define {\bfseries R\-X\-\_\-\-B\-U\-F\-F\-E\-R\-\_\-\-S\-I\-Z\-E}~256}\label{serial_8c_a739a2a1a0047c98ac1b18ecd25dac092}

\item 
\hypertarget{serial_8c_a9ab33647617098646990fe263600b650}{\#define {\bfseries T\-X\-\_\-\-B\-U\-F\-F\-E\-R\-\_\-\-S\-I\-Z\-E}~256}\label{serial_8c_a9ab33647617098646990fe263600b650}

\item 
\hypertarget{serial_8c_a88540454f43c07e91701dd077089dcfe}{\#define {\bfseries T\-X\-\_\-\-F\-I\-F\-O\-\_\-\-S\-I\-Z\-E}~16 /$\ast$ D'après la datasheet du P\-C1550\-D, pas évident que ce soit le bon model $\ast$/}\label{serial_8c_a88540454f43c07e91701dd077089dcfe}

\item 
\hypertarget{serial_8c_a0449f9f9f1ba32438d7cf0930de48661}{\#define {\bfseries U\-A\-R\-T\-\_\-\-C\-L\-O\-C\-K\-\_\-\-F\-R\-E\-Q}~115200}\label{serial_8c_a0449f9f9f1ba32438d7cf0930de48661}

\item 
\hypertarget{serial_8c_aad9ae913bdfab20dd94ad04ee2d5b045}{\#define {\bfseries D\-A\-T\-A}~0}\label{serial_8c_aad9ae913bdfab20dd94ad04ee2d5b045}

\item 
\hypertarget{serial_8c_ae942966c7cbecd9ce09b4c6fb959bc9b}{\#define {\bfseries D\-L\-\_\-\-L\-S\-B}~0}\label{serial_8c_ae942966c7cbecd9ce09b4c6fb959bc9b}

\item 
\hypertarget{serial_8c_acf43057fc38f77d20456c074909ba772}{\#define {\bfseries I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E}~1}\label{serial_8c_acf43057fc38f77d20456c074909ba772}

\item 
\hypertarget{serial_8c_a8ad4affdf38f644451e72f654d0366b4}{\#define {\bfseries D\-L\-\_\-\-M\-S\-B}~1}\label{serial_8c_a8ad4affdf38f644451e72f654d0366b4}

\item 
\hypertarget{serial_8c_a6624b0e7d14d658837e0dd389df233a6}{\#define {\bfseries I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-I\-D\-\_\-\-R\-E\-G}~2}\label{serial_8c_a6624b0e7d14d658837e0dd389df233a6}

\item 
\hypertarget{serial_8c_adcd8d113c8791a336768b8da70010ea7}{\#define {\bfseries F\-I\-F\-O\-\_\-\-C\-T\-R\-L}~2}\label{serial_8c_adcd8d113c8791a336768b8da70010ea7}

\item 
\hypertarget{serial_8c_afdfbab6c55abbfa2e09f1aac20c59b59}{\#define {\bfseries L\-I\-N\-E\-\_\-\-C\-T\-R\-L}~3}\label{serial_8c_afdfbab6c55abbfa2e09f1aac20c59b59}

\item 
\hypertarget{serial_8c_a0bcee366aa87f066c588cadec8cd51ec}{\#define {\bfseries M\-O\-D\-E\-M\-\_\-\-C\-T\-R\-L}~4}\label{serial_8c_a0bcee366aa87f066c588cadec8cd51ec}

\item 
\hypertarget{serial_8c_a57842fefd7fa676c36779e4f43ac6cc0}{\#define {\bfseries L\-I\-N\-E\-\_\-\-S\-T\-A\-T\-U\-S}~5}\label{serial_8c_a57842fefd7fa676c36779e4f43ac6cc0}

\item 
\hypertarget{serial_8c_a6513628ede18301c0857892dab0ee4a9}{\#define {\bfseries M\-O\-D\-E\-M\-\_\-\-S\-T\-A\-T\-U\-S}~6}\label{serial_8c_a6513628ede18301c0857892dab0ee4a9}

\item 
\hypertarget{serial_8c_aec8a026f804bcb1be68ce357673e3045}{\#define {\bfseries S\-C\-R\-A\-T\-C\-H}~7}\label{serial_8c_aec8a026f804bcb1be68ce357673e3045}

\item 
\hypertarget{serial_8c_a7dd7fde7a54fe0ec4fae8d2356c14aed}{\#define {\bfseries write\-\_\-register}(P\-O\-R\-T, R\-E\-G, D\-A\-T\-A)~\hyperlink{ioports_8h_aff0f5d0c71d15c5888f22f86b5ca841b}{outb}(D\-A\-T\-A,base\-\_\-addr\mbox{[}P\-O\-R\-T\mbox{]}+R\-E\-G)}\label{serial_8c_a7dd7fde7a54fe0ec4fae8d2356c14aed}

\item 
\hypertarget{serial_8c_a1d0b23ee864d6c0d825a341c107ccc38}{\#define {\bfseries read\-\_\-register}(P\-O\-R\-T, R\-E\-G)~\hyperlink{ioports_8h_ad6488a48837d179b1833e2f48dac9665}{inb}(base\-\_\-addr\mbox{[}P\-O\-R\-T\mbox{]}+R\-E\-G)}\label{serial_8c_a1d0b23ee864d6c0d825a341c107ccc38}

\item 
\hypertarget{serial_8c_a8f7b278912168b50fd7cc04c65ec743f}{\#define {\bfseries T\-X\-\_\-\-B\-U\-F\-F\-E\-R\-\_\-\-F\-U\-L\-L}(port)~((tx\-\_\-size\mbox{[}port\mbox{]} == T\-X\-\_\-\-B\-U\-F\-F\-E\-R\-\_\-\-S\-I\-Z\-E-\/1)?1\-:0)}\label{serial_8c_a8f7b278912168b50fd7cc04c65ec743f}

\end{DoxyCompactItemize}
\subsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{serial_8c_ac50cbde292e2ec8e27be3384c942d56a}{void \hyperlink{serial_8c_ac50cbde292e2ec8e27be3384c942d56a}{serial\-\_\-isr} (int id)}\label{serial_8c_ac50cbde292e2ec8e27be3384c942d56a}

\begin{DoxyCompactList}\small\item\em Handler d'interruption du driver série. \end{DoxyCompactList}\item 
\hypertarget{serial_8c_a459999cfa35c788b64284953a93c4b57}{int \hyperlink{serial_8c_a459999cfa35c788b64284953a93c4b57}{serial\-\_\-init} ()}\label{serial_8c_a459999cfa35c788b64284953a93c4b57}

\begin{DoxyCompactList}\small\item\em Fonction d'initialisation du driver série. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Description détaillée}
\begin{DoxyAuthor}{Auteur}
Tac\-O\-S developers
\end{DoxyAuthor}
\hypertarget{wait_8c_LICENSE}{}\subsection{L\-I\-C\-E\-N\-S\-E}\label{wait_8c_LICENSE}
Copyright (C) 2010, 2011, 2012, 2013 -\/ Tac\-O\-S developers.

This program is free software; you can redistribute it and/or modify it under the terms of the G\-N\-U General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\-I\-T\-H\-O\-U\-T A\-N\-Y W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E. See the G\-N\-U General Public License for more details at \href{http://www.gnu.org/copyleft/gpl.html}{\tt http\-://www.\-gnu.\-org/copyleft/gpl.\-html}

You should have received a copy of the G\-N\-U General Public License along with this program; if not, see \href{http://www.gnu.org/licenses}{\tt http\-://www.\-gnu.\-org/licenses}.\hypertarget{wait_8c_DESCRIPTION}{}\subsection{D\-E\-S\-C\-R\-I\-P\-T\-I\-O\-N}\label{wait_8c_DESCRIPTION}
Serial communication driver 