\hypertarget{idt_8h}{\section{Référence du fichier kernel/include/idt.h}
\label{idt_8h}\index{kernel/include/idt.\+h@{kernel/include/idt.\+h}}
}


Initialisation de la table des descripteurs d'interruption (et exceptions) et association aux handlers.  


{\ttfamily \#include $<$types.\+h$>$}\\*
Graphe des dépendances par inclusion de idt.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{idt_8h__incl}
\end{center}
\end{figure}
Ce graphe montre quels fichiers incluent directement ou indirectement ce fichier \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{idt_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{idt_8h_a1e638762d3982aadbcb3a847d7cb396b}{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+N\+U\+M}~32
\item 
\#define \hyperlink{idt_8h_ac9c6830789e26eebd0ccc5b4d6304c40}{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+B\+A\+S\+E}~0
\item 
\#define \hyperlink{idt_8h_ac0283c827dbcca38f83f73900746ffa5}{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+N\+U\+M}~32
\item 
\#define \hyperlink{idt_8h_ac375aea9903187b528bbc74c208a0f02}{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+B\+A\+S\+E}~32 /$\ast$ Juste après les exceptions $\ast$/
\item 
\hypertarget{idt_8h_a8c923af9e0579b1c606b4b640770e84c}{\#define {\bfseries I\+D\+T\+\_\+\+T\+R\+A\+P\+G\+A\+T\+E}~0x7}\label{idt_8h_a8c923af9e0579b1c606b4b640770e84c}

\item 
\hypertarget{idt_8h_a1cba572fcc7a309a96a7ea8e0957b8d4}{\#define {\bfseries I\+D\+T\+\_\+\+I\+N\+T\+G\+A\+T\+E}~0x6}\label{idt_8h_a1cba572fcc7a309a96a7ea8e0957b8d4}

\item 
\hypertarget{idt_8h_ab6c7bd5d5daa1f157f8d1d1f36346264}{\#define {\bfseries I\+D\+T\+\_\+\+T\+A\+S\+K\+G\+A\+T\+E}~0x5}\label{idt_8h_ab6c7bd5d5daa1f157f8d1d1f36346264}

\end{DoxyCompactItemize}
\subsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{idt_8h_a559dc3a4f73d1813f12a104840e68550}{idt\+\_\+setup} ()
\begin{DoxyCompactList}\small\item\em Initialisation de l'I\+D\+T. \end{DoxyCompactList}\item 
int \hyperlink{idt_8h_a042510d9d3af14a9dac9a6c46f27c403}{idt\+\_\+set\+\_\+handler} (\hyperlink{kernel_2include_2types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} index, \hyperlink{kernel_2include_2types_8h_a9f047c1f0917f6184a7a013d4b4277a6}{paddr\+\_\+t} handler\+\_\+address, \hyperlink{kernel_2include_2types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} priority)
\begin{DoxyCompactList}\small\item\em Associe un handler à une interruption/exception. \end{DoxyCompactList}\item 
void \hyperlink{idt_8h_affa07557443fe1c9a508b346d8f06523}{idt\+\_\+set\+\_\+handler\+\_\+type} (\hyperlink{kernel_2include_2types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} index, \hyperlink{kernel_2include_2types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} trap\+\_\+type)
\begin{DoxyCompactList}\small\item\em Change le type d'une interruption (interrupt gate, trap gate, task gate). \end{DoxyCompactList}\item 
void \hyperlink{idt_8h_a49a66783b420e15221ba67a340267b8d}{idt\+\_\+disable\+\_\+handler} (\hyperlink{kernel_2include_2types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t} index)
\begin{DoxyCompactList}\small\item\em Désactive une interruption. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Description détaillée}
\begin{DoxyAuthor}{Auteur}
Tac\+O\+S developers
\end{DoxyAuthor}
\hypertarget{wait_8c_LICENSE}{}\subsection{L\+I\+C\+E\+N\+S\+E}\label{wait_8c_LICENSE}
Copyright (C) 2010, 2011, 2012 -\/ Tac\+O\+S developers.

This program is free software; you can redistribute it and/or modify it under the terms of the G\+N\+U General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+U\+T A\+N\+Y W\+A\+R\+R\+A\+N\+T\+Y; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+T\+Y or F\+I\+T\+N\+E\+S\+S F\+O\+R A P\+A\+R\+T\+I\+C\+U\+L\+A\+R P\+U\+R\+P\+O\+S\+E. See the G\+N\+U General Public License for more details at \href{http://www.gnu.org/copyleft/gpl.html}{\tt http\+://www.\+gnu.\+org/copyleft/gpl.\+html}

You should have received a copy of the G\+N\+U General Public License along with this program; if not, see \href{http://www.gnu.org/licenses}{\tt http\+://www.\+gnu.\+org/licenses}.\hypertarget{wait_8c_DESCRIPTION}{}\subsection{D\+E\+S\+C\+R\+I\+P\+T\+I\+O\+N}\label{wait_8c_DESCRIPTION}
Description de ce que fait le fichier

\subsection{Documentation des macros}
\hypertarget{idt_8h_ac9c6830789e26eebd0ccc5b4d6304c40}{\index{idt.\+h@{idt.\+h}!E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+B\+A\+S\+E@{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+B\+A\+S\+E}}
\index{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+B\+A\+S\+E@{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+B\+A\+S\+E}!idt.\+h@{idt.\+h}}
\subsubsection[{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+B\+A\+S\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+B\+A\+S\+E~0}}\label{idt_8h_ac9c6830789e26eebd0ccc5b4d6304c40}
On va définir une constante pour dire où on va mapper (pour l'idt) \hypertarget{idt_8h_a1e638762d3982aadbcb3a847d7cb396b}{\index{idt.\+h@{idt.\+h}!E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+N\+U\+M@{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+N\+U\+M}}
\index{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+N\+U\+M@{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+N\+U\+M}!idt.\+h@{idt.\+h}}
\subsubsection[{E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+X\+C\+E\+P\+T\+I\+O\+N\+\_\+\+N\+U\+M~32}}\label{idt_8h_a1e638762d3982aadbcb3a847d7cb396b}
Nombre d'exceptions \+: \hypertarget{idt_8h_ac375aea9903187b528bbc74c208a0f02}{\index{idt.\+h@{idt.\+h}!I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+B\+A\+S\+E@{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+B\+A\+S\+E}}
\index{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+B\+A\+S\+E@{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+B\+A\+S\+E}!idt.\+h@{idt.\+h}}
\subsubsection[{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+B\+A\+S\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+B\+A\+S\+E~32 /$\ast$ Juste après les exceptions $\ast$/}}\label{idt_8h_ac375aea9903187b528bbc74c208a0f02}
Définition de là où on mappe les interruptions. \hypertarget{idt_8h_ac0283c827dbcca38f83f73900746ffa5}{\index{idt.\+h@{idt.\+h}!I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+N\+U\+M@{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+N\+U\+M}}
\index{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+N\+U\+M@{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+N\+U\+M}!idt.\+h@{idt.\+h}}
\subsubsection[{I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+T\+E\+R\+R\+U\+P\+T\+\_\+\+N\+U\+M~32}}\label{idt_8h_ac0283c827dbcca38f83f73900746ffa5}
Nombre d'interruptions \+: 

\subsection{Documentation des fonctions}
\hypertarget{idt_8h_a49a66783b420e15221ba67a340267b8d}{\index{idt.\+h@{idt.\+h}!idt\+\_\+disable\+\_\+handler@{idt\+\_\+disable\+\_\+handler}}
\index{idt\+\_\+disable\+\_\+handler@{idt\+\_\+disable\+\_\+handler}!idt.\+h@{idt.\+h}}
\subsubsection[{idt\+\_\+disable\+\_\+handler}]{\setlength{\rightskip}{0pt plus 5cm}void idt\+\_\+disable\+\_\+handler (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{index}
\end{DoxyParamCaption}
)}}\label{idt_8h_a49a66783b420e15221ba67a340267b8d}

\begin{DoxyParams}{Paramètres}
{\em index} & L'index dans l'I\+D\+T. \\
\hline
\end{DoxyParams}


Voici le graphe d'appel pour cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{idt_8h_a49a66783b420e15221ba67a340267b8d_cgraph}
\end{center}
\end{figure}




Voici le graphe des appelants de cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{idt_8h_a49a66783b420e15221ba67a340267b8d_icgraph}
\end{center}
\end{figure}


\hypertarget{idt_8h_a042510d9d3af14a9dac9a6c46f27c403}{\index{idt.\+h@{idt.\+h}!idt\+\_\+set\+\_\+handler@{idt\+\_\+set\+\_\+handler}}
\index{idt\+\_\+set\+\_\+handler@{idt\+\_\+set\+\_\+handler}!idt.\+h@{idt.\+h}}
\subsubsection[{idt\+\_\+set\+\_\+handler}]{\setlength{\rightskip}{0pt plus 5cm}int idt\+\_\+set\+\_\+handler (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{index, }
\item[{{\bf paddr\+\_\+t}}]{handler\+\_\+address, }
\item[{{\bf uint8\+\_\+t}}]{priority}
\end{DoxyParamCaption}
)}}\label{idt_8h_a042510d9d3af14a9dac9a6c46f27c403}

\begin{DoxyParams}{Paramètres}
{\em index} & L'index dans l'I\+D\+T. \\
\hline
{\em handler\+\_\+address} & L'adresse du handler. \\
\hline
{\em priority} & Le niveau de privilège dans lequel va s'exécuter l'interruption.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
0 en cas de succès. 
\end{DoxyReturn}


Voici le graphe des appelants de cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{idt_8h_a042510d9d3af14a9dac9a6c46f27c403_icgraph}
\end{center}
\end{figure}


\hypertarget{idt_8h_affa07557443fe1c9a508b346d8f06523}{\index{idt.\+h@{idt.\+h}!idt\+\_\+set\+\_\+handler\+\_\+type@{idt\+\_\+set\+\_\+handler\+\_\+type}}
\index{idt\+\_\+set\+\_\+handler\+\_\+type@{idt\+\_\+set\+\_\+handler\+\_\+type}!idt.\+h@{idt.\+h}}
\subsubsection[{idt\+\_\+set\+\_\+handler\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}void idt\+\_\+set\+\_\+handler\+\_\+type (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t}}]{index, }
\item[{{\bf uint8\+\_\+t}}]{trap\+\_\+type}
\end{DoxyParamCaption}
)}}\label{idt_8h_affa07557443fe1c9a508b346d8f06523}

\begin{DoxyParams}{Paramètres}
{\em index} & L'index dans l'I\+D\+T. \\
\hline
{\em trap\+\_\+type} & Le type de gate. \\
\hline
\end{DoxyParams}


Voici le graphe des appelants de cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{idt_8h_affa07557443fe1c9a508b346d8f06523_icgraph}
\end{center}
\end{figure}


\hypertarget{idt_8h_a559dc3a4f73d1813f12a104840e68550}{\index{idt.\+h@{idt.\+h}!idt\+\_\+setup@{idt\+\_\+setup}}
\index{idt\+\_\+setup@{idt\+\_\+setup}!idt.\+h@{idt.\+h}}
\subsubsection[{idt\+\_\+setup}]{\setlength{\rightskip}{0pt plus 5cm}void idt\+\_\+setup (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{idt_8h_a559dc3a4f73d1813f12a104840e68550}
Initialisation de l'I\+D\+T avec des champs par défaut mais aucun handler. L'I\+D\+T est envoyée au C\+P\+U. 

Voici le graphe d'appel pour cette fonction \+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{idt_8h_a559dc3a4f73d1813f12a104840e68550_cgraph}
\end{center}
\end{figure}


